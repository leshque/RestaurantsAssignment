# TakeawayAssignment

The project is implemented using VIPER architecture.

# Main entities:
## Shared
**AppEnvironment** - Container for shared depencencies, such as Router, StorageClient, SettingsProvider
**UserDefaultsSettingsProvider** - wrapper around UserDefaults used to retain the selected sort option
**Router** - entity responsible for the app navigation

## RestaurantListModule
**RestaurantListModule** - Main app module, acting as DI assembly

### View
View layer consists from UI-related entities:
* Views - RestaurantListViewController, and its subviews/cells
* ViewModels - structures holding the data needed for each view rendering
* RestaurantListDataSource - TableView Datasource implemented using `UITableViewDiffableDataSource`

### Presenter
Presenter layer is responsible to handle events generated by `View` and mapping the data provided by `Interactor` to `ViewModels` used in `View` layer. It consists from following entities:
* RestaurantListPresenter - handles events generated by `View`, triggers the `Interactor`
* RestaurantListViewModelMapper - maps data returned by `Interactor` to `ViewModel` structs

### Interactor
Interactor layer incapsulates the business logic, such as sorting/filtering the restaurant list. It also incapsulates the connections to `StorageClient` and `SettingsProvider`.
* RestaurantListInteractor - implements sorting/filtering
* RestaurantListDomainModelMapper - implements mapping from `Codable` entities to DTOs/Domain Entities
* DTOs/Domain Entities - structs representing the Restaurants data, but agnostic to the storage implementation details

### Extensions
* `Sequence` extensions allowing sorting with multilpe sort descriptors/configurations
* `AnyComparable` Comparable wrapper used for type erasure needed to store/pass `KeyPath` with different property types

### Unit Tests
* Mocks - mocks of `RestaurantListPresenter` dependencies
* `RestaurantListPresenterTests` - a few `RestaurantListPresenter` unit tests showcasing mocking/testing technics


